# 文档生命周期管理

本文档说明 ContentHub 项目文档的完整生命周期管理流程。

> **最后更新**: 2026-02-03

---

## 生命周期流程

```
┌─────────────┐    ┌─────────────┐    ┌─────────────┐
│  设计阶段   │ -> │  实施阶段   │ -> │  完成归档   │
│  design/    │    │  对应目录   │    │  archive/   │
│  (❌待实施)  │    │  (✅已实施)  │    │  (历史记录)  │
└─────────────┘    └─────────────┘    └─────────────┘
```

---

## 阶段说明

### 1. 设计阶段 (design/)

**触发条件**: 新功能设计或系统改进

**行动**:
1. 在 `design/` 创建 `<功能名>-design.md`
2. 在 README.md 中添加状态表条目（标记为 ❌）
3. 编写完整的设计文档

**文档模板**:
```markdown
# <功能名称> 设计文档

> **版本**: 1.0.0
> **创建日期**: 2026-02-03
> **状态**: 设计阶段，待实施

## 背景
...

## 设计目标
...

## 技术方案
...

## 实施计划
...
```

---

### 2. 实施阶段 (对应目录)

**触发条件**: 设计批准，开始实施

**行动**:
1. 更新 README.md 中的状态为 ✅
2. 添加实施时间
3. 可选：将文档移到对应目录（guides/, architecture/ 等）

**状态更新**:
```markdown
| 文档 | 状态 | 实施时间 | 描述 |
|------|------|----------|------|
| feature-design.md | ✅ 已实施 | 2026-02-03 | 功能说明 |
```

---

### 3. 完成归档 (archive/)

**触发条件**:
- 功能完成并稳定运行
- 文档不再需要频繁更新
- 项目阶段结束

**行动**:
1. 确定归档子目录（phases/sessions/reports）
2. 移动文档到 `archive/` 对应子目录
3. 更新 README.md，移除活跃文档列表中的条目

**归档位置决策**:
| 文档类型 | 归档位置 |
|---------|---------|
| 阶段完成报告 | `archive/phases/` |
| 开发会话记录 | `archive/sessions/` |
| 测试报告 | `archive/reports/testing/` |
| 其他报告 | `archive/reports/` |

---

## 状态管理

### 双重标记机制

**1. README.md 状态表**（主要标记）
```markdown
| 文档 | 状态 | 实施时间 | 描述 |
|------|------|----------|------|
| feature-design.md | ✅ 已实施 | 2026-02-03 | 功能说明 |
```

**2. 文档内元数据**（辅助标记）
```markdown
> **版本**: 1.0.0
> **创建日期**: 2026-02-03
> **状态**: 已实施
```

### 状态符号

| 符号 | 含义 | 使用场景 |
|------|------|---------|
| ✅ | 已实施 | 功能已完成并投入使用 |
| ❌ | 待实施 | 设计完成，等待实现 |
| 🔄 | 进行中 | 正在开发中（可选） |

---

## 典型场景

### 场景 1: 新功能开发

```
1. design/feature-design.md (❌待实施)
2. 实施中 → 更新为 ✅，添加实施时间
3. 稳定后 → 移到对应目录 或保留在 design/
4. 功能过时 → archive/（可选）
```

### 场景 2: 阶段性开发

```
1. development/PHASE-N-PLAN.md
2. 实施阶段 → 生成 PHASE-N-COMPLETION-REPORT.md
3. 阶段完成 → 移到 archive/phases/
```

### 场景 3: 测试报告

```
1. testing/active-test-plan.md
2. 执行测试 → 生成测试报告
3. 测试完成 → 移到 archive/reports/testing/
```

---

## 维护检查清单

### 每周检查

- [ ] 验证 `design/` 中的实施状态
- [ ] 同步 README.md 和文档内元数据
- [ ] 为已实施功能添加实施时间

### 每月检查

- [ ] 将完成的项目文档移到 `archive/`
- [ ] 清理 `development/` 中的过期文档
- [ ] 更新文档统计信息

### 阶段性检查

- [ ] 审查归档文档的组织结构
- [ ] 更新主 README.md 的导航链接
- [ ] 清理过期的临时文档

---

## 常见问题

### Q: 已实施的设计文档应该保留在 design/ 还是移到其他目录？

**A**: 两种方式都可以：
- **保留在 design/**: 便于查看所有功能设计
- **移到对应目录**: 按文档用途分类

### Q: 什么时候应该归档文档？

**A**: 当满足以下条件之一时：
- 功能完成并稳定运行
- 阶段性项目结束
- 文档不再需要频繁更新

### Q: 归档的文档还会被更新吗？

**A**: 一般不会。归档文档是历史记录，不应再修改。如需更新，应在活跃目录创建新文档。

---

**维护者**: ContentHub 开发团队
