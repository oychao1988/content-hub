# ContentHub 页面测试计划

基于页面结构分析、交互逻辑梳理和页面跳转关系分析，为每个页面生成详细的测试计划。

**测试环境**:
- 前端地址: http://localhost:3010
- 后端地址: http://localhost:8010
- 测试工具: Chrome DevTools MCP

**测试账号**:
- 管理员账号: admin / admin123
- 普通用户账号: user / user123

---

## 1. 登录页测试计划

### 页面路径
`/login`

### 测试目标
验证用户登录功能的正确性，包括正常登录、错误处理、记住我功能等。

### 测试用例

#### TC-LOGIN-001: 正常登录
**前置条件**:
- 已创建测试账号
- 后端服务正常运行

**测试步骤**:
1. 访问 `http://localhost:3010/login`
2. 输入正确的用户名 `admin`
3. 输入正确的密码 `admin123`
4. 点击"登录"按钮

**预期结果**:
- 登录成功
- 跳转到首页 (`/`) 或重定向页面
- 顶部导航栏显示用户信息
- 侧边栏菜单正常显示

#### TC-LOGIN-002: 用户名为空
**测试步骤**:
1. 访问登录页
2. 不输入用户名
3. 输入密码
4. 点击"登录"按钮

**预期结果**:
- 显示表单验证错误提示
- 不发送登录请求
- 保留在登录页

#### TC-LOGIN-003: 密码为空
**测试步骤**:
1. 访问登录页
2. 输入用户名
3. 不输入密码
4. 点击"登录"按钮

**预期结果**:
- 显示表单验证错误提示
- 不发送登录请求

#### TC-LOGIN-004: 错误的密码
**测试步骤**:
1. 输入正确的用户名
2. 输入错误的密码
3. 点击"登录"按钮

**预期结果**:
- 显示登录失败提示
- 保留在登录页
- 密码输入框清空或保留（取决于实现）

#### TC-LOGIN-005: 不存在的用户
**测试步骤**:
1. 输入不存在的用户名
2. 输入任意密码
3. 点击"登录"按钮

**预期结果**:
- 显示登录失败提示
- 提示用户不存在

#### TC-LOGIN-006: 记住我功能
**测试步骤**:
1. 勾选"记住我"复选框
2. 输入正确的账号密码
3. 点击"登录"按钮
4. 关闭浏览器
5. 重新访问系统

**预期结果**:
- 自动登录成功
- 无需重新输入账号密码

#### TC-LOGIN-007: 密码可见切换
**测试步骤**:
1. 输入密码
2. 点击密码输入框的眼睛图标

**预期结果**:
- 密码在明文和密文之间切换
- 图标相应变化

#### TC-LOGIN-008: 回车键登录
**测试步骤**:
1. 输入用户名
2. 输入密码
3. 按下回车键

**预期结果**:
- 触发登录操作
- 等同于点击登录按钮

#### TC-LOGIN-009: 重定向机制
**测试步骤**:
1. 直接访问 `http://localhost:3010/content`（未登录）
2. 自动跳转到登录页，URL 包含 `?redirect=/content`
3. 输入正确的账号密码登录

**预期结果**:
- 登录成功后跳转到 `/content` 页面
- 而不是默认的首页

---

## 2. 仪表盘测试计划

### 页面路径
`/`

### 测试目标
验证仪表盘数据展示正确性和交互功能正常。

### 测试用例

#### TC-DASHBOARD-001: 页面加载
**前置条件**:
- 已登录

**测试步骤**:
1. 访问首页

**预期结果**:
- 统计卡片正确显示（总账号数、内容总数、发布总数、定时任务数）
- 数据图表正确渲染
- 最近活动时间线显示

#### TC-DASHBOARD-002: 统计卡片数据
**测试步骤**:
1. 查看各个统计卡片
2. 对比后端实际数据

**预期结果**:
- 数据准确
- 数字格式化正确（如有千分位分隔符等）

#### TC-DASHBOARD-003: 最近活动刷新
**测试步骤**:
1. 找到最近活动区域
2. 点击"刷新"按钮

**预期结果**:
- 显示加载状态
- 重新获取活动数据
- 显示"刷新成功"提示

#### TC-DASHBOARD-004: 快速导航
**测试步骤**:
1. 点击侧边栏菜单项

**预期结果**:
- 正确跳转到对应页面
- 页面正常加载

---

## 3. 账号管理测试计划

### 页面路径
`/accounts`

### 测试目标
验证账号列表的展示、搜索、CRUD 操作等功能。

### 测试用例

#### TC-ACCOUNT-001: 页面加载
**前置条件**:
- 已登录且有 `account:read` 权限

**测试步骤**:
1. 访问账号管理页面

**预期结果**:
- 表格正确显示账号列表
- 分页组件正常显示
- 搜索表单正常显示

#### TC-ACCOUNT-002: 列表分页
**测试步骤**:
1. 点击分页器的下一页
2. 点击页码
3. 修改每页显示数量

**预期结果**:
- 表格数据正确更新
- 分页器状态同步

#### TC-ACCOUNT-003: 搜索功能
**测试步骤**:
1. 输入账号名称
2. 选择平台
3. 选择状态
4. 点击"搜索"按钮

**预期结果**:
- 显示符合条件的账号列表
- URL 更新包含搜索参数

#### TC-ACCOUNT-004: 重置搜索
**测试步骤**:
1. 执行搜索操作
2. 点击"重置"按钮

**预期结果**:
- 清空搜索表单
- 显示所有账号列表
- URL 参数清除

#### TC-ACCOUNT-005: 新建账号（权限: account:create）
**前置条件**:
- 有 `account:create` 权限

**测试步骤**:
1. 点击"新建账号"按钮
2. 填写账号信息
3. 点击"确定"按钮

**预期结果**:
- 打开新建对话框
- 表单验证正常
- 创建成功后刷新列表
- 显示成功提示

#### TC-ACCOUNT-006: 编辑账号（权限: account:update）
**前置条件**:
- 有 `account:update` 权限

**测试步骤**:
1. 点击列表中某账号的"编辑"按钮
2. 修改账号信息
3. 点击"确定"按钮

**预期结果**:
- 打开编辑对话框，预填充数据
- 更新成功后刷新列表
- 显示成功提示

#### TC-ACCOUNT-007: 查看账号
**测试步骤**:
1. 点击列表中某账号的"查看"按钮

**预期结果**:
- 打开查看对话框
- 显示账号详细信息
- 所有字段为只读状态

#### TC-ACCOUNT-008: 同步账号（权限: account:update）
**前置条件**:
- 有 `account:update` 权限

**测试步骤**:
1. 点击列表中某账号的"同步"按钮
2. 确认同步操作

**预期结果**:
- 显示确认对话框
- 同步成功后更新账号状态
- 显示成功提示

#### TC-ACCOUNT-009: 删除账号（权限: admin）
**前置条件**:
- 管理员角色

**测试步骤**:
1. 点击列表中某账号的"删除"按钮
2. 确认删除操作

**预期结果**:
- 显示确认对话框
- 删除成功后刷新列表
- 显示成功提示

#### TC-ACCOUNT-010: 批量删除
**测试步骤**:
1. 勾选多个账号
2. 点击批量操作栏的"删除"按钮
3. 确认删除操作

**预期结果**:
- 显示确认对话框（包含删除数量）
- 删除成功后刷新列表
- 显示成功提示

#### TC-ACCOUNT-011: 权限控制
**前置条件**:
- 无 `account:create` 权限

**测试步骤**:
1. 访问账号管理页面

**预期结果**:
- "新建账号"按钮不显示或禁用
- "编辑"、"同步"按钮不显示或禁用

---

## 4. 内容管理测试计划

### 页面路径
`/content`

### 测试目标
验证内容列表、搜索、CRUD、AI 生成等功能。

### 测试用例

#### TC-CONTENT-001: 页面加载
**前置条件**:
- 已登录

**测试步骤**:
1. 访问内容管理页面

**预期结果**:
- 表格正确显示内容列表
- 分页、搜索功能正常

#### TC-CONTENT-002: 新建内容
**测试步骤**:
1. 点击"新建内容"按钮
2. 填写标题、正文等字段
3. 点击"确定"按钮

**预期结果**:
- 打开新建对话框
- 表单验证正常
- 创建成功后刷新列表

#### TC-CONTENT-003: 编辑内容
**测试步骤**:
1. 点击列表中某内容的"编辑"按钮
2. 修改内容
3. 点击"确定"按钮

**预期结果**:
- 打开编辑对话框
- 更新成功后刷新列表

#### TC-CONTENT-004: 预览内容
**测试步骤**:
1. 点击列表中某内容的"预览"按钮

**预期结果**:
- 打开预览对话框
- 正确渲染 Markdown 内容

#### TC-CONTENT-005: AI 生成内容
**测试步骤**:
1. 点击列表中某内容的"生成"按钮
2. 填写生成参数
3. 点击"生成"按钮

**预期结果**:
- 打开 AI 生成对话框
- 显示生成进度
- 生成成功后更新内容

#### TC-CONTENT-006: 删除内容
**测试步骤**:
1. 点击列表中某内容的"删除"按钮
2. 确认删除操作

**预期结果**:
- 显示确认对话框
- 删除成功后刷新列表

#### TC-CONTENT-007: 批量删除
**测试步骤**:
1. 勾选多个内容
2. 点击"批量删除"按钮
3. 确认删除操作

**预期结果**:
- 批量删除成功
- 显示成功提示

#### TC-CONTENT-008: 添加到发布池
**测试步骤**:
1. 勾选多个内容
2. 点击"添加到发布池"按钮

**预期结果**:
- 添加成功
- 显示成功提示

#### TC-CONTENT-009: 跳转到详情页
**测试步骤**:
1. 点击内容标题链接

**预期结果**:
- 跳转到内容详情页 `/content/:id`
- 详情页正确加载

---

## 5. 内容详情测试计划

### 页面路径
`/content/:id`

### 测试目标
验证内容详情展示、编辑、预览、删除等功能。

### 测试用例

#### TC-CONTENT-DETAIL-001: 页面加载
**前置条件**:
- 已登录

**测试步骤**:
1. 访问内容详情页

**预期结果**:
- 正确显示内容标题、正文、元数据
- Markdown 渲染正确
- 侧边栏信息显示正常

#### TC-CONTENT-DETAIL-002: 编辑内容
**测试步骤**:
1. 点击"编辑"按钮
2. 修改内容
3. 点击"确定"按钮

**预期结果**:
- 打开编辑对话框（富文本编辑器）
- 更新成功后刷新详情

#### TC-CONTENT-DETAIL-003: 预览内容
**测试步骤**:
1. 点击"预览内容"按钮

**预期结果**:
- 打开预览对话框
- 正确显示渲染后的内容

#### TC-CONTENT-DETAIL-004: 删除内容
**测试步骤**:
1. 点击"删除内容"按钮
2. 确认删除操作

**预期结果**:
- 显示确认对话框
- 删除成功后跳转到内容列表页

#### TC-CONTENT-DETAIL-005: 添加到发布池
**测试步骤**:
1. 点击"添加到发布池"按钮

**预期结果**:
- 添加成功（如果功能已实现）
- 显示成功提示

#### TC-CONTENT-DETAIL-006: 图片预览
**测试步骤**:
1. 内容中包含图片
2. 点击图片

**预期结果**:
- 打开图片预览组件
- 可以放大缩小图片

---

## 6. 发布管理测试计划

### 页面路径
`/publisher`

### 测试用例

#### TC-PUBLISHER-001: 页面加载
**前置条件**:
- 已登录且有 `publisher:read` 权限

**测试步骤**:
1. 访问发布管理页面

**预期结果**:
- 表格正确显示发布记录列表
- 发布状态标识正确

#### TC-PUBLISHER-002: 查看发布详情
**测试步骤**:
1. 点击列表中某记录的"查看"按钮

**预期结果**:
- 打开查看对话框
- 显示发布详细信息

#### TC-PUBLISHER-003: 重试发布（失败状态）
**前置条件**:
- 存在发布失败的记录

**测试步骤**:
1. 点击失败记录的"重试"按钮
2. 确认重试操作

**预期结果**:
- 显示确认对话框
- 重新执行发布任务
- 更新发布状态

#### TC-PUBLISHER-004: 取消发布（待发布状态）
**前置条件**:
- 存在待发布的记录

**测试步骤**:
1. 点击待发布记录的"取消"按钮
2. 确认取消操作

**预期结果**:
- 显示确认对话框
- 取消发布任务
- 更新发布状态

---

## 7. 定时任务测试计划

### 页面路径
`/scheduler`

### 测试用例

#### TC-SCHEDULER-001: 页面加载
**前置条件**:
- 已登录且有 `scheduler:read` 权限

**测试步骤**:
1. 访问定时任务页面

**预期结果**:
- 表格正确显示任务列表
- 任务状态标识正确

#### TC-SCHEDULER-002: 新建任务
**测试步骤**:
1. 点击"新建任务"按钮
2. 填写任务信息
3. 点击"确定"按钮

**预期结果**:
- 创建成功后刷新列表

#### TC-SCHEDULER-003: 暂停任务
**前置条件**:
- 存在运行中的任务

**测试步骤**:
1. 点击运行中任务的"暂停"按钮

**预期结果**:
- 任务状态更新为暂停

#### TC-SCHEDULER-004: 恢复任务
**前置条件**:
- 存在暂停的任务

**测试步骤**:
1. 点击暂停任务的"恢复"按钮

**预期结果**:
- 任务状态更新为运行中

#### TC-SCHEDULER-005: 立即执行
**测试步骤**:
1. 点击某任务的"立即执行"按钮
2. 确认执行操作

**预期结果**:
- 显示确认对话框
- 立即触发任务执行

---

## 8. 发布池测试计划

### 页面路径
`/publish-pool`

### 测试用例

#### TC-PUBLISH-POOL-001: 页面加载
**前置条件**:
- 已登录且有 `publish-pool:read` 权限

**测试步骤**:
1. 访问发布池页面

**预期结果**:
- 表格正确显示发布池列表
- 发布状态标识正确

#### TC-PUBLISH-POOL-002: 添加到发布池
**测试步骤**:
1. 点击"添加到发布池"按钮
2. 选择内容、平台、账号
3. 点击"确定"按钮

**预期结果**:
- 添加成功后刷新列表

#### TC-PUBLISH-POOL-003: 批量发布
**测试步骤**:
1. 勾选多个待发布的记录
2. 点击"批量发布"按钮
3. 确认发布操作

**预期结果**:
- 显示确认对话框（包含发布数量）
- 批量执行发布任务
- 更新发布状态

#### TC-PUBLISH-POOL-004: 清空已发布
**测试步骤**:
1. 点击"清空已发布"按钮
2. 确认清空操作

**预期结果**:
- 显示确认对话框
- 清空所有已发布记录
- 显示成功提示

---

## 9-15. 管理员页面测试计划

### 9. 用户管理 (`/users`)

#### TC-USER-001: 新建用户
**测试步骤**:
1. 点击"新建用户"按钮
2. 填写用户信息（用户名、密码、角色等）
3. 点击"确定"按钮

**预期结果**:
- 创建成功后刷新列表
- 显示成功提示

#### TC-USER-002: 重置密码
**测试步骤**:
1. 点击某用户的"重置密码"按钮
2. 输入新密码
3. 点击"确定"按钮

**预期结果**:
- 密码重置成功
- 显示成功提示

### 10. 客户管理 (`/customers`)

#### TC-CUSTOMER-001: 新建客户
**测试步骤**:
1. 点击"新建客户"按钮
2. 填写客户信息
3. 点击"确定"按钮

**预期结果**:
- 创建成功后刷新列表

### 11. 平台管理 (`/platforms`)

#### TC-PLATFORM-001: 新建平台
**测试步骤**:
1. 点击"新建平台"按钮
2. 填写平台信息
3. 点击"确定"按钮

**预期结果**:
- 创建成功后刷新列表

### 12. 系统配置 (`/config`)

#### TC-CONFIG-001: 保存配置
**测试步骤**:
1. 修改各标签页的配置项
2. 点击"保存配置"按钮

**预期结果**:
- 显示加载状态
- 配置保存成功
- 显示成功提示

#### TC-CONFIG-002: 快速导航
**测试步骤**:
1. 点击"写作风格管理"卡片

**预期结果**:
- 跳转到写作风格管理页面

### 13. 写作风格管理 (`/writing-styles`)

#### TC-WRITING-STYLE-001: 新建风格
**测试步骤**:
1. 点击"新建风格"按钮
2. 填写风格信息
3. 点击"确定"按钮

**预期结果**:
- 创建成功后刷新列表

#### TC-WRITING-STYLE-002: 删除系统级风格
**前置条件**:
- 存在系统级风格记录

**测试步骤**:
1. 尝试点击系统级风格的"删除"按钮

**预期结果**:
- 删除按钮禁用或不存在
- 无法删除系统级风格

### 14. 内容主题管理 (`/content-themes`)

#### TC-CONTENT-THEME-001: 新建主题
**测试步骤**:
1. 点击"新建主题"按钮
2. 填写主题信息
3. 点击"确定"按钮

**预期结果**:
- 创建成功后刷新列表

---

## 16. 权限控制测试计划

### TC-PERMISSION-001: 路由级权限控制
**前置条件**:
- 普通用户（无管理员权限）

**测试步骤**:
1. 尝试直接访问 `/users` 页面

**预期结果**:
- 自动跳转到 `/403` 页面
- 显示权限不足提示

### TC-PERMISSION-002: 按钮级权限控制
**前置条件**:
- 无 `account:create` 权限

**测试步骤**:
1. 访问账号管理页面

**预期结果**:
- "新建账号"按钮不显示
- "编辑"、"同步"按钮不显示

### TC-PERMISSION-003: 菜单权限控制
**前置条件**:
- 普通用户

**测试步骤**:
1. 查看侧边栏菜单

**预期结果**:
- 不显示管理员专属菜单项
- 只显示有权限访问的菜单

---

## 17. 页面跳转测试计划

### TC-NAV-001: 侧边栏导航
**测试步骤**:
1. 点击侧边栏的各个菜单项

**预期结果**:
- 正确跳转到对应页面
- 菜单激活状态正确

### TC-NAV-002: 面包屑导航
**测试步骤**:
1. 进入某个详情页面
2. 点击面包屑导航

**预期结果**:
- 正确跳转到上级页面

### TC-NAV-003: 返回上一页
**测试步骤**:
1. 在 403 页面点击"返回上一页"按钮

**预期结果**:
- 返回到之前的页面

### TC-NAV-004: 退出登录
**测试步骤**:
1. 点击用户下拉菜单
2. 点击"退出登录"

**预期结果**:
- 清除登录状态
- 跳转到登录页

---

## 18. 异常场景测试计划

### TC-EXCEPTION-001: 网络错误
**测试步骤**:
1. 关闭后端服务
2. 执行某个需要 API 调用的操作

**预期结果**:
- 显示网络错误提示
- 不显示崩溃或白屏

### TC-EXCEPTION-002: Token 过期
**测试步骤**:
1. 使 Token 过期
2. 执行需要认证的操作

**预期结果**:
- 自动跳转到登录页
- 显示"登录已过期"提示

### TC-EXCEPTION-003: 服务器错误 500
**测试步骤**:
1. 后端返回 500 错误
2. 执行某个操作

**预期结果**:
- 显示错误提示
- 不显示崩溃或白屏

### TC-EXCEPTION-004: 表单验证
**测试步骤**:
1. 新建账号，不填写必填字段
2. 点击"确定"按钮

**预期结果**:
- 显示表单验证错误
- 不提交表单

---

## 测试执行顺序建议

### 阶段 1: 基础功能测试
1. 登录页测试（TC-LOGIN-001 ~ TC-LOGIN-009）
2. 仪表盘测试（TC-DASHBOARD-001 ~ TC-DASHBOARD-004）

### 阶段 2: 核心业务功能测试
3. 账号管理测试（TC-ACCOUNT-001 ~ TC-ACCOUNT-011）
4. 内容管理测试（TC-CONTENT-001 ~ TC-CONTENT-009）
5. 内容详情测试（TC-CONTENT-DETAIL-001 ~ TC-CONTENT-DETAIL-006）
6. 发布管理测试（TC-PUBLISHER-001 ~ TC-PUBLISHER-004）
7. 定时任务测试（TC-SCHEDULER-001 ~ TC-SCHEDULER-005）
8. 发布池测试（TC-PUBLISH-POOL-001 ~ TC-PUBLISH-POOL-004）

### 阶段 3: 管理员功能测试
9. 用户管理测试（TC-USER-001 ~ TC-USER-002）
10. 客户管理测试（TC-CUSTOMER-001）
11. 平台管理测试（TC-PLATFORM-001）
12. 系统配置测试（TC-CONFIG-001 ~ TC-CONFIG-002）
13. 写作风格管理测试（TC-WRITING-STYLE-001 ~ TC-WRITING-STYLE-002）
14. 内容主题管理测试（TC-CONTENT-THEME-001）

### 阶段 4: 权限和导航测试
15. 权限控制测试（TC-PERMISSION-001 ~ TC-PERMISSION-003）
16. 页面跳转测试（TC-NAV-001 ~ TC-NAV-004）

### 阶段 5: 异常场景测试
17. 异常场景测试（TC-EXCEPTION-001 ~ TC-EXCEPTION-004）

---

## 测试数据准备

### 账号数据
- 测试账号 1: 正常状态
- 测试账号 2: 禁用状态
- 测试账号 3: 多个平台

### 内容数据
- 正常内容（已发布）
- 草稿内容（未发布）
- 不同类型的内容
- 包含图片的内容

### 发布记录
- 发布成功的记录
- 发布失败的记录
- 待发布的记录

### 定时任务
- 运行中的任务
- 暂停的任务
- 已停止的任务

---

## 测试结果记录模板

| 测试用例 | 执行时间 | 执行人 | 结果 | 备注 |
|---------|---------|--------|------|------|
| TC-XXX-001 | | | ✅/❌ | |

**结果说明**:
- ✅ 通过
- ❌ 失败
- ⚠️ 部分通过
- ⏭️ 跳过

---

**文档版本**: 1.0
**最后更新**: 2026-01-31
**维护者**: Claude Code
